<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Men's Fashion | PreviBook</title>
  <style>
    /* ... Your CSS from earlier ... */
    /* (Skipping CSS here for brevity, use the CSS you had) */
    /* You can paste the CSS I provided earlier here */
  </style>
</head>
<body>

  <header>
    <div class="logo">PreviBook</div>
    <input
      type="text"
      id="search-bar"
      placeholder="Search menâ€™s fashion..."
      aria-label="Search products"
    />
    <select id="sort-options" aria-label="Sort products">
      <option value="popularity">Sort by Popularity</option>
      <option value="price-low">Price: Low to High</option>
      <option value="price-high">Price: High to Low</option>
    </select>
  </header>

  <main>
    <h1>Men's Fashion Collection</h1>
    <div class="product-grid" id="product-grid"></div>
  </main>

  <script>
    const products = [
      { id: 1, name: "Classic White T-Shirt", category: "T-Shirts", price: 15.99, popularity: 80, image: "images/tshirt.jpg" },
      { id: 2, name: "Formal Blue Shirt", category: "Shirts", price: 29.99, popularity: 70, image: "images/shirt.jpg" },
      { id: 3, name: "Running Sneakers", category: "Shoes", price: 59.99, popularity: 90, image: "images/sports_shoes.jpg" },
      { id: 4, name: "Winter Jacket", category: "Jackets", price: 79.99, popularity: 85, image: "images/jacket.jpg" },
      { id: 5, name: "Casual Kurta", category: "Kurtas", price: 39.99, popularity: 50, image: "images/kurta.jpg" },
      { id: 6, name: "Sporty Sneakers", category: "Shoes", price: 65.00, popularity: 75, image: "images/sneakers.jpg" },
      { id: 7, name: "Aviator Sunglasses", category: "Glasses", price: 49.99, popularity: 60, image: "images/aviators.jpg" },
      { id: 8, name: "Elegant Wrist Watch", category: "Watches", price: 120.00, popularity: 95, image: "images/watch.jpg" },
      { id: 9, name: "Denim Jeans", category: "Jeans", price: 39.99, popularity: 77, image: "images/jeans.jpg" },
      { id: 10, name: "Leather Belt", category: "Accessories", price: 25.00, popularity: 55, image: "images/belt.jpg" }
    ];

    const productGrid = document.getElementById("product-grid");
    const searchBar = document.getElementById("search-bar");
    const sortOptions = document.getElementById("sort-options");

    function renderProducts(items) {
      productGrid.innerHTML = items.map(product => `
        <div class="product-card">
          <img src="${product.image}" alt="${product.name}" class="product-image" />
          <div class="product-details">
            <div class="product-name">${product.name}</div>
            <div class="product-category">${product.category}</div>
            <div class="product-price">$${product.price.toFixed(2)}</div>
            <button class="btn-buy">Buy Now</button>
          </div>
        </div>
      `).join('');
    }

    function filterAndSortProducts() {
      const searchTerm = searchBar.value.toLowerCase();

      let filtered = products.filter(p =>
        p.name.toLowerCase().includes(searchTerm) ||
        p.category.toLowerCase().includes(searchTerm)
      );

      const sortValue = sortOptions.value;

      if (sortValue === "price-low") {
        filtered.sort((a, b) => a.price - b.price);
      } else if (sortValue === "price-high") {
        filtered.sort((a, b) => b.price - a.price);
      } else if (sortValue === "popularity") {
        filtered.sort((a, b) => b.popularity - a.popularity);
      }

      renderProducts(filtered);
    }

    // Initial render
    renderProducts(products);

    // Event listeners
    searchBar.addEventListener("input", filterAndSortProducts);
    sortOptions.addEventListener("change", filterAndSortProducts);
  </script>

</body>
</html>
